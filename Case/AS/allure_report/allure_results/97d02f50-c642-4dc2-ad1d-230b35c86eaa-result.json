{"name": "test_PostDocDomainAddParallelCheckNull[/api/document-domain-management/v1/domain/-{\"Content-Type\":\"application/json\"}-{\"host\":\"10.2.180.162\",\"port\":443,\"type\":\"parallel\",\"credential_id\":\"admin\",\"credential_key\":\"eisoo.com\",\"secret\":None,\"network_type\":\"direct\"}-checkpoint3]", "status": "failed", "statusDetails": {"message": "AssertionError: assert 500 == 400", "trace": "self = <Case.AS.Http.DocDomainMgnt.test_AddDocDomain.Test_PostMgntV1Domain object at 0x05339928>\nurl = '/api/document-domain-management/v1/domain/'\nheader = '{\"Content-Type\":\"application/json\"}'\njsondata = '{\"host\":\"10.2.180.162\",\"port\":443,\"type\":\"parallel\",\"credential_id\":\"admin\",\"credential_key\":\"eisoo.com\",\"secret\":None,\"network_type\":\"direct\"}'\ncheckpoint = {'respheaders.Location': '/api/document-domain-management/v1/domain/', 'status_code': 400}\n\n    @allure.testcase(\"5249,添加文档域--校验字段值为null，返回201\")\n    @allure.testcase(\"5248,添加文档域--校验字段值为null，返回400 \")\n    @pytest.mark.high\n    @pytest.mark.parametrize(\"url,header,jsondata,checkpoint\",\n                             argvalues=JsonRead(\n                                 \"AS/Http/DocDomainMgnt/testdata/PostMgntV1DomainNull.json\").dict_value_join())\n    def test_PostDocDomainAddParallelCheckNull(self, url, header, jsondata, checkpoint):\n        \"\"\"\n        # 校验字段值可以为null和空,返回201;\n        :param url:请求地址\n        :param header:请求头\n        :param jsondata:请求body参数\n        :param checkpoint:断言，检查点\n        :return:None\n        \"\"\"\n        CommonDocDomain().clearRelationDomain(host=\"10.2.176.208\")  # 清空平级域的关系域\n        CommonDocDomain().clearRelationDomain(host=\"10.2.176.245\")  # 清空父域的关系域\n        # header = eval(header)\n        # token = get_token()\n        # header[\"Authorization\"] = \"Bearer \" + token\n        client = Http_client(tagname=\"HTTPGWP\")\n        client.post(url=url, header=header, jsondata=jsondata)\n>       assert client.status_code == checkpoint[\"status_code\"]\nE       assert 500 == 400\n\nHttp\\DocDomainMgnt\\test_AddDocDomain.py:181: AssertionError"}, "description": "\n        # 校验字段值可以为null和空,返回201;\n        :param url:请求地址\n        :param header:请求头\n        :param jsondata:请求body参数\n        :param checkpoint:断言，检查点\n        :return:None\n        ", "steps": [{"name": "递归清除所有的关系域", "status": "passed", "steps": [{"name": "查询关系域列表", "status": "passed", "parameters": [{"name": "host", "value": "'10.2.176.208'"}, {"name": "keyword", "value": "''"}, {"name": "offset", "value": "0"}, {"name": "limit", "value": "1000"}], "start": 1596613994599, "stop": 1596613994696}], "parameters": [{"name": "host", "value": "'10.2.176.208'"}], "start": 1596613994599, "stop": 1596613994696}, {"name": "递归清除所有的关系域", "status": "passed", "steps": [{"name": "查询关系域列表", "status": "passed", "parameters": [{"name": "host", "value": "'10.2.176.245'"}, {"name": "keyword", "value": "''"}, {"name": "offset", "value": "0"}, {"name": "limit", "value": "1000"}], "start": 1596613994697, "stop": 1596613994974}], "parameters": [{"name": "host", "value": "'10.2.176.245'"}], "start": 1596613994697, "stop": 1596613994974}], "parameters": [{"name": "url", "value": "'/api/document-domain-management/v1/domain/'"}, {"name": "header", "value": "'{\"Content-Type\":\"application/json\"}'"}, {"name": "jsondata", "value": "'{\"host\":\"10.2.180.162\",\"port\":443,\"type\":\"parallel\",\"credential_id\":\"admin\",\"credential_key\":\"eisoo.com\",\"secret\":None,\"network_type\":\"direct\"}'"}, {"name": "checkpoint", "value": "{'status_code': 400, 'respheaders.Location': '/api/document-domain-management/v1/domain/'}"}], "start": 1596613994598, "stop": 1596613998255, "uuid": "9929c7b6-dcf1-464e-9111-42cbccc994d9", "historyId": "ae9e199d5b4b9e93e7d72a3e1122b64f", "testCaseId": "5d0bb1e36cd2e6de7a17597488c4d334", "fullName": "Case.AS.Http.DocDomainMgnt.test_AddDocDomain.Test_PostMgntV1Domain#test_PostDocDomainAddParallelCheckNull", "labels": [{"name": "feature", "value": "添加文档域"}, {"name": "tag", "value": "high"}, {"name": "tag", "value": "ASP_317"}, {"name": "parentSuite", "value": "Case.AS.Http.DocDomainMgnt"}, {"name": "suite", "value": "test_AddDocDomain"}, {"name": "subSuite", "value": "Test_PostMgntV1Domain"}, {"name": "host", "value": "citix-1-028"}, {"name": "thread", "value": "38760-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Case.AS.Http.DocDomainMgnt.test_AddDocDomain"}], "links": [{"type": "test_case", "url": "5248,添加文档域--校验字段值为null，返回400 ", "name": "5248,添加文档域--校验字段值为null，返回400 "}, {"type": "test_case", "url": "5249,添加文档域--校验字段值为null，返回201", "name": "5249,添加文档域--校验字段值为null，返回201"}]}